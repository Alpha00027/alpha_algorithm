# 7. 整数反转

## 题目

给出一个 32 位的有符号整数，你需要将这个整数中每位上的数字进行反转。

示例 1:

    输入: 123
    输出: 321

 示例 2:

    输入: -123
    输出: -321

示例 3:

    输入: 120
    输出: 21

注意:

假设我们的环境只能存储得下 32 位的有符号整数，则其数值范围为 [−2^31,  2^31 − 1]。请根据这个假设，如果反转后整数溢出那么就返回 0。

## 题解

首先思考逆序算法，要进行反转，我们可以通过两步来构建：

1. 从输入弹出个位数字pop

   a. 通过除10取余，获取个位
   b. 随后直接除10取整数。

2. 将pop插入到输出后面

   a. 原输入*10
   b. 原输入+pop

我们再考虑溢出问题。

从上面得知，只有再进行`输出 = 输出*10+pop`时会溢出。但是我们无法直接通过溢出后的值来进行参考，只能再计算新输出前，考虑结果是否会溢出。

1. 如果输出 `>INI_MAX/10` 或者 `<INT_MIN/10`，那么肯定会溢出。
2. 如果输出 `==INI_MAX/10`或者 `==INT_MIN/10`，考虑到除10取整的时候会舍去个位数字，如果舍去的个位数字pop`>INT_MAX%10`或者`<INT_MIN%10`m，那么最后的和一定会溢出。

由上面的讨论，有:
```C++
class Solution {
public:
    int reverse(int x) {
        
        int out = 0;
        int t = 0;
        while(x != 0)
        {
            t = x % 10;
            x = x/10;

            if(out > (INT_MAX/10) || (out == (INT_MAX/10) && t > (INT_MAX%10)))
                return 0;
            if(out < (INT_MIN/10)|| (out == (INT_MIN/10) && t < (INT_MIN%10)))
                return 0;

            out = out * 10 + t;
        } 

    return out;
    }
};
```

另外：C++中的`^`不是指数运算，是位运算的异或。

进行指数运算需要`pow()`函数：

```C++
#include <cmath>

int main()
{
    int i = pow(2,31) - 1;
}
```
